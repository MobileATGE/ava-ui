(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{217:function(e,t,n){var content=n(287);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(58).default)("bc07b256",content,!0,{sourceMap:!1})},279:function(e,t,n){e.exports=n.p+"img/d1526c2.jpeg"},280:function(e,t,n){e.exports=n.p+"img/ea2170e.png"},281:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACKElEQVR42u3PzWdcURjH8aFcshpKVlmVEmbb1SWErMLQbRi6Ct32b8gfUIYSwjDm5c57ZqaU0lUoWd1VV2EodzWEMqswDE+/k7TOGK3pebmTe6KHz+JZnd83JyJPwtMJ+Tge+yz1kCIixJj9EiNC0YeQYySQDRIUsxgS4Byi6RxBlkIiiKHISciYw9J7iKWy6f8qZDSycQBx5MBkg4uQADcOQ24QPEbICcSxE+OQEYehK4hjV7o7VMhwaOIFJCUvNXZYh5ymGHK6zZBqiiFVo5Dh5aWJGJKSbxo7VMglh4EEkpIfOltUyGBg4g6SkoXGjkyH3BmFDPp9EwkkJYnGDuuQOMWQeJshlRRDKkYh/V7PRAmSkjcaO6xD9rCAOLbAnlFIj8NQB+JYR3eHCul2TYUQx0LNDZYhStVhRBU545Auh4U8EoilBHmD/1VIp9OxVcAUYmiKgun/KqTddmEfE4imCfYt/nUYouzgTCPiDDvIOQlpc1jaxRHeoQL5RzE+oYy3CLGr+78KabV0BSjiAlOIYzMMUcLzDVuMQl4hwgyyRV/wemNIi2ODEJ8hj+wa4fo+FRJFf5NHH5Ix5ZWNKiTi+IMQ3yEZtXwBVkKazXUlLCAZV4UKaXKsOMIc4olDFdJo/FbADOKRCZ6th3yFeOj4PqRBBA4hnvrwEFKvL11APHW9GjLxOOT2PqROCOYQT81XQ8RnDyG12pJ47H9INkNqhEB8JoT8BNEuPSTVExuQAAAAAElFTkSuQmCC"},282:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAKVQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////uP3jVQAAADd0Uk5TAE9lCAXd9XA4y/9zDQJG7HYB8Hc3yHoPQ8fuezMSoYPrEcEugj0tqb6G+Lw5ifHcKk3SIAx/MjRpS8YAAADsSURBVHic7dDJDoIwEIDhQURwQNGiIBVkUQH3BfX9H00MEvHW9qj9L3RIvkxTAJlMJvu1lI7aHtWOwm67Wk9vz3pP67Jro4+m1QyWiX2D3cJgqNmjt7ZGtjYccGAYK8R26qNjE2XMY6smU3Q9AM/F6YSTVrtnPp173pz6M969Lx1Q6rqUBgK2KvAR/UCIAoQLxEUoiCMSxyQSokmE6XKZYpQI2BVJ1wDrlKz4dXXn7PXN+G8e5lhk9TErMOd6tXCz3e2bYb/bbnj04Xg6f6bz6Xhgtxe8lu25vOKFGd/uj+8fj/uNfbVMJpP9QU/STxAzeUFqVwAAAABJRU5ErkJggg=="},283:function(e,t,n){e.exports=n.p+"img/a26ebdf.svg"},284:function(e,t,n){e.exports=n.p+"img/b6e6159.svg"},285:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDcuOTcxIDQ3Ljk3MSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDcuOTcxIDQ3Ljk3MTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIGQ9Ik0yOC4yMjgsMjMuOTg2TDQ3LjA5Miw1LjEyMmMxLjE3Mi0xLjE3MSwxLjE3Mi0zLjA3MSwwLTQuMjQyYy0xLjE3Mi0xLjE3Mi0zLjA3LTEuMTcyLTQuMjQyLDBMMjMuOTg2LDE5Ljc0NEw1LjEyMSwwLjg4CgkJYy0xLjE3Mi0xLjE3Mi0zLjA3LTEuMTcyLTQuMjQyLDBjLTEuMTcyLDEuMTcxLTEuMTcyLDMuMDcxLDAsNC4yNDJsMTguODY1LDE4Ljg2NEwwLjg3OSw0Mi44NWMtMS4xNzIsMS4xNzEtMS4xNzIsMy4wNzEsMCw0LjI0MgoJCUMxLjQ2NSw0Ny42NzcsMi4yMzMsNDcuOTcsMyw0Ny45N3MxLjUzNS0wLjI5MywyLjEyMS0wLjg3OWwxOC44NjUtMTguODY0TDQyLjg1LDQ3LjA5MWMwLjU4NiwwLjU4NiwxLjM1NCwwLjg3OSwyLjEyMSwwLjg3OQoJCXMxLjUzNS0wLjI5MywyLjEyMS0wLjg3OWMxLjE3Mi0xLjE3MSwxLjE3Mi0zLjA3MSwwLTQuMjQyTDI4LjIyOCwyMy45ODZ6Ii8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+"},286:function(e,t,n){"use strict";var o=n(217);n.n(o).a},287:function(e,t,n){(t=n(57)(!1)).push([e.i,".sc-message{width:90%;padding-bottom:15px}.sc-message--text{max-width:66%;font-size:.9em;font-weight:300}.sc-header--close-button,.sc-launcher{display:none}.sc-message--content.sent .sc-message--avatar{display:inline-block;order:2;margin-left:15px;margin-right:0}.sc-message--avatar{min-width:40px;min-height:40px}.sc-message--meta{text-align:left;font-size:small}.sc-message-list{padding:0}.sc-user-input[focus-within]{border-bottom:2px solid #6064a4}.sc-user-input:focus-within{border-bottom:2px solid #6064a4}.sc-header--title>img{vertical-align:middle;width:36px;height:36px}.sc-header--title span{vertical-align:middle}.card{border:1px solid rgba(189,185,185,.4);padding:15px;margin:5px 0}.rating{margin-top:10px}.rating>span,.star{vertical-align:middle}.star{width:32px;height:32px;cursor:pointer}.sc-suggestions-element:focus{outline:none}.sc-suggestions-element:hover{background-color:#d4d1d1}",""]),e.exports=t},294:function(e,t,n){"use strict";n.r(t);n(220),n(59),n(82),n(83),n(18),n(60),n(226);var o=n(0),c=n(292),r=n(279),l=n.n(r),d=n(280),m=n.n(d),h=n(281),w=n.n(h),f=n(282),y=n.n(f),M=n(283),A=n.n(M),v=n(284),x=n.n(v),j=n(285),C=n.n(j);o.a.use(c.a);var L={name:"app",data:function(){return{user:{},conversationId:"mobile"+(new Date).getTime(),isConnected:!1,socketMessage:"",icons:{open:{img:A.a,name:"default"},close:{img:y.a,name:"default"},file:{img:x.a,name:"default"},closeSvg:{img:C.a,name:"default"}},participants:[{id:"support",name:"Ava",imageUrl:m.a}],titleImageUrl:l.a,messageList:[],newMessagesCount:0,isChatOpen:!0,showTypingIndicator:"",colors:{header:{bg:"#6064A4",text:"#ffffff"},launcher:{bg:"#4e8cff"},messageList:{bg:"#f3f2f1"},sentMessage:{bg:"#E5E5F0",text:"#000000"},receivedMessage:{bg:"#ffffff",text:"#000000"},userInput:{bg:"#ffffff",text:"#565867"}},alwaysScrollToBottom:!0,messageStyling:!0}},created:function(){},mounted:function(){var e=this;this.user=this.$route.query;var t=this;this.participants.push({id:"me",name:"me",imageUrl:this.user.avatar||w.a}),this.$nextTick((function(){e.resize()})),window.addEventListener("resize",(function(){t.resize()}))},updated:function(){this.updateStyle()},sockets:{connect:function(){console.log("Socket connected"),this.isConnected||(this.isConnected=!0,this.avaReopen())},disconnect:function(){console.log("Socket disconnected"),this.isConnected=!1},connected:function(data){console.log("connected response="),console.log(data),this.isConnected||(this.isConnected=!0,this.avaReopen())},reopen:function(data){if(console.log("Socket data received:"),console.log(data),this.showTypingIndicator="",data.messages){this.socketMessage=data;var e=data.messages,t=e.length;this.addResponseMessage(e[t-1].message[0],data.type,["List my tickets","Talk to an agent"])}},normal:function(data){var e=this;console.log("Response:"),console.log(data),this.showTypingIndicator="",this.socketMessage=data;var t=data.messages;t.length,"string"==typeof t[0]?t[0]:t[0].message[0];"string"==typeof t[0]?t.forEach((function(t){e.addResponseMessage(t,data.type,["List my tickets","Talk to an agent"])})):this.addResponseMessage(t[0].message[0],data.type,["Help!","Talk with an agent!"])},error:function(data){console.log("Error response received:"),console.log(data),this.addResponseMessage("Communication failed!",data.type,["Help!","Talk with an agent!"])},agentStart:function(data){console.log("Agent start"),console.log(data),this.addResponseMessage(data.message.message,data.type)},fromAgent:function(data){console.log("From agent"),console.log(data),this.addResponseMessage("From agent",data.type)}},methods:{rate:function(e){this.onMessageWasSent({type:"text",author:"me",data:{text:"My rating is ".concat(e," star").concat(e>1?"s":"")}})},resize:function(){document.querySelector(".sc-chat-window").style.maxHeight="90%",document.querySelector(".sc-chat-window").style.backgroundColor="#f3f2f1",window.matchMedia("(max-width: 640px)").matches?document.querySelector(".sc-chat-window").style.width="90%":window.matchMedia("(max-width: 768px)").matches?document.querySelector(".sc-chat-window").style.width="80%":document.querySelector(".sc-chat-window").style.width="768px"},updateStyle:function(){var e=document.getElementsByClassName("sc-suggestions-element");Array.from(e).forEach((function(element){console.log(element),element.style.color="black",element.style.borderColor="black"}))},onMessageWasSent:function(e){e.data.meta=(new Date).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),this.showTypingIndicator="support",this.avaNormal(e),this.messageList.push(e)},avaReopen:function(){var e={conversationId:this.conversationId.toString(),source:"canvas",from:{id:this.user.id,name:this.user.name,company:"ATGE",employee_type:"stu",department:"CU",email_address:this.user.email},message:"Hello!"};console.log("openchat:"),console.log(e),this.$socket.client.emit("reopen",e)},avaNormal:function(e){var t={conversationId:this.conversationId,source:"canvas",from:{id:this.user.id,name:this.user.name,company:"ATGE",employee_type:"stu",department:"CU",email_address:this.user.email},message:e.data.text||""};console.log("Send:"),console.log(t),this.$socket.client.emit("normal",t)},addResponseMessage:function(e,t,n){this.messageList.push({author:"support",type:"text",id:Math.random(),data:{text:e,type:t,meta:"Ava "+(new Date).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},suggestions:n})},openChat:function(){this.isChatOpen=!0,this.newMessagesCount=0},closeChat:function(){this.isChatOpen=!1},setColor:function(e){this.colors=this.availableColors[e],this.chosenColor=e},handleScrollToTop:function(){},handleOnType:function(){},editMessage:function(e){var t=this.messageList.find((function(t){return t.id===e.id}));t.isEdited=!0,t.data.text=e.data.text},removeMessage:function(e){if(confirm("Delete?")){var t=this.messageList.find((function(t){return t.id===e.id}));t.type="system",t.data.text="This message has been removed"}}}},S=(n(286),n(20)),component=Object(S.a)(L,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("beautiful-chat",{attrs:{participants:e.participants,titleImageUrl:e.titleImageUrl,onMessageWasSent:e.onMessageWasSent,messageList:e.messageList,newMessagesCount:e.newMessagesCount,isOpen:e.isChatOpen,close:e.closeChat,icons:e.icons,open:e.openChat,showEmoji:!0,showFile:!0,showTypingIndicator:e.showTypingIndicator,showLauncher:!1,showCloseButton:!1,colors:e.colors,alwaysScrollToBottom:e.alwaysScrollToBottom,messageStyling:e.messageStyling},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"sc-header--title enabled"},[n("img",{attrs:{src:e.titleImageUrl}}),e._v(" "),n("span",[e._v("Ava")])])]},proxy:!0},{key:"user-avatar",fn:function(e){e.message;var t=e.user;return[n("div",{staticClass:"sc-message--avatar",style:{backgroundImage:"url("+t.imageUrl+")"}})]}},{key:"text-message-body",fn:function(t){return[t.message.data.meta?n("p",{staticClass:"sc-message--meta",style:{color:"#666666"}},[e._v("\n        "+e._s(t.message.data.meta)+"\n      ")]):e._e(),e._v(" "),"survey"===t.message.data.type?n("div",[n("div",{staticClass:"card"},[n("p",{staticClass:"sc-message--text-content",domProps:{innerHTML:e._s(t.message.data.text)}}),e._v(" "),n("div",{staticClass:"rating"},[n("span",[e._v("Not Satisfied")]),e._v(" "),n("img",{staticClass:"star",attrs:{src:"/star.png"},on:{click:function(t){return e.rate(1)}}}),e._v(" "),n("img",{staticClass:"star",attrs:{src:"/star.png"},on:{click:function(t){return e.rate(2)}}}),e._v(" "),n("img",{staticClass:"star",attrs:{src:"/star.png"},on:{click:function(t){return e.rate(3)}}}),e._v(" "),n("img",{staticClass:"star",attrs:{src:"/star.png"},on:{click:function(t){return e.rate(4)}}}),e._v(" "),n("img",{staticClass:"star",attrs:{src:"/star.png"},on:{click:function(t){return e.rate(5)}}}),e._v(" "),n("span",[e._v("Satisfied")])])])]):n("div",[n("p",{staticClass:"sc-message--text-content",domProps:{innerHTML:e._s(t.message.data.text)}})])]}}])})],1)}),[],!1,null,null,null);t.default=component.exports}}]);